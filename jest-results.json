{"numFailedTestSuites":1,"numFailedTests":3,"numPassedTestSuites":19,"numPassedTests":43,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":20,"numTotalTests":46,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":2,"total":2,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1759235143153,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["payment webhook simulation"],"duration":62,"failing":false,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.<anonymous> (/Users/ishaqbello/Website/asos-clone/tests/integration/webhook.test.ts:71:28)"],"fullName":"payment webhook simulation marks order paid and clears cart on success","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1759235143601,"status":"failed","title":"marks order paid and clears cart on success"},{"ancestorTitles":["payment webhook simulation"],"duration":17,"failing":false,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.<anonymous> (/Users/ishaqbello/Website/asos-clone/tests/integration/webhook.test.ts:93:28)"],"fullName":"payment webhook simulation failed webhook marks payment failed but leaves order pending/awaiting","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1759235143666,"status":"failed","title":"failed webhook marks payment failed but leaves order pending/awaiting"},{"ancestorTitles":["payment webhook simulation"],"duration":27,"failing":false,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.<anonymous> (/Users/ishaqbello/Website/asos-clone/tests/integration/webhook.test.ts:121:27)"],"fullName":"payment webhook simulation idempotent replay does not change already paid order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1759235143683,"status":"failed","title":"idempotent replay does not change already paid order"}],"endTime":1759235143724,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mpayment webhook simulation › marks order paid and clears cart on success\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 69 |\u001b[39m       console\u001b[33m.\u001b[39merror(\u001b[32m\"webhook success test debug\"\u001b[39m\u001b[33m,\u001b[39m dbg)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 70 |\u001b[39m     }\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 71 |\u001b[39m     expect(hookRes\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 72 |\u001b[39m     \u001b[36mconst\u001b[39m order \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39morder\u001b[33m.\u001b[39mfindUnique({ where\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m orderId } })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 73 |\u001b[39m     expect(order\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m\"PAID\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 74 |\u001b[39m     \u001b[36mconst\u001b[39m payment \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mpaymentRecord\u001b[33m.\u001b[39mfindFirst({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/webhook.test.ts\u001b[39m\u001b[0m\u001b[2m:71:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mpayment webhook simulation › failed webhook marks payment failed but leaves order pending/awaiting\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 91 |\u001b[39m       console\u001b[33m.\u001b[39merror(\u001b[32m\"webhook failed test debug\"\u001b[39m\u001b[33m,\u001b[39m dbg)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 92 |\u001b[39m     }\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 93 |\u001b[39m     expect(hookRes\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 94 |\u001b[39m     \u001b[36mconst\u001b[39m order \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39morder\u001b[33m.\u001b[39mfindUnique({ where\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m orderId } })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 95 |\u001b[39m     expect(order\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mstatus \u001b[33m===\u001b[39m \u001b[32m\"PAID\"\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 96 |\u001b[39m     \u001b[36mconst\u001b[39m payment \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mpaymentRecord\u001b[33m.\u001b[39mfindFirst({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/webhook.test.ts\u001b[39m\u001b[0m\u001b[2m:93:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mpayment webhook simulation › idempotent replay does not change already paid order\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 119 |\u001b[39m       {}\u001b[22m\n\u001b[2m     \u001b[90m 120 |\u001b[39m     )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 121 |\u001b[39m     expect(replay\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 122 |\u001b[39m     \u001b[36mconst\u001b[39m after \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39morder\u001b[33m.\u001b[39mfindUnique({ where\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m orderId } })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m     expect(after\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpaidAt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mgetTime())\u001b[33m.\u001b[39mtoBe(firstPaidAt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mgetTime())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m     \u001b[36mconst\u001b[39m payments \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mpaymentRecord\u001b[33m.\u001b[39mfindMany({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/webhook.test.ts\u001b[39m\u001b[0m\u001b[2m:121:27)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/webhook.test.ts","startTime":1759235143320,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["payment intent flow (simulated)"],"duration":660,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"payment intent flow (simulated) creates simulated payment intent and sets status to AWAITING_PAYMENT","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1759235143845,"status":"passed","title":"creates simulated payment intent and sets status to AWAITING_PAYMENT"},{"ancestorTitles":["payment intent flow (simulated)"],"duration":951,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"payment intent flow (simulated) idempotent reuse of payment intent","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759235144506,"status":"passed","title":"idempotent reuse of payment intent"}],"endTime":1759235145459,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/paymentIntent.test.ts","startTime":1759235143742,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["checkout flow"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow happy path without discount","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1759235145563,"status":"passed","title":"happy path without discount"},{"ancestorTitles":["checkout flow"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow applies fixed discount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145587,"status":"passed","title":"applies fixed discount"},{"ancestorTitles":["checkout flow"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow discount usage increments and then exhausts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1759235145603,"status":"passed","title":"discount usage increments and then exhausts"},{"ancestorTitles":["checkout flow"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow idempotency returns same order on repeat key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235145622,"status":"passed","title":"idempotency returns same order on repeat key"}],"endTime":1759235145638,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/checkout.test.ts","startTime":1759235145471,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["checkout failure scenarios"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios empty cart returns 400","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145714,"status":"passed","title":"empty cart returns 400"},{"ancestorTitles":["checkout failure scenarios"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios stock conflict","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759235145728,"status":"passed","title":"stock conflict"},{"ancestorTitles":["checkout failure scenarios"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios invalid discount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145736,"status":"passed","title":"invalid discount"},{"ancestorTitles":["checkout failure scenarios"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios discount min subtotal unmet","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145745,"status":"passed","title":"discount min subtotal unmet"},{"ancestorTitles":["checkout failure scenarios"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios discount usage exhausted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145754,"status":"passed","title":"discount usage exhausted"}],"endTime":1759235145765,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/checkoutFailures.test.ts","startTime":1759235145641,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["admin products positive"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"admin products positive creates a product with images and sizes","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1759235145844,"status":"passed","title":"creates a product with images and sizes"},{"ancestorTitles":["discount codes route"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount codes route creates fixed discount code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145859,"status":"passed","title":"creates fixed discount code"},{"ancestorTitles":["discount codes route"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount codes route creates percent discount code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145864,"status":"passed","title":"creates percent discount code"},{"ancestorTitles":["discount codes route"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount codes route rejects missing required value for fixed kind","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145867,"status":"passed","title":"rejects missing required value for fixed kind"}],"endTime":1759235145872,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/adminAndDiscountPositive.test.ts","startTime":1759235145769,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["admin authorization negatives"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"admin authorization negatives product create blocked for missing session","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145945,"status":"passed","title":"product create blocked for missing session"},{"ancestorTitles":["admin authorization negatives"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"admin authorization negatives discount code create blocked for non-admin session","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235145962,"status":"passed","title":"discount code create blocked for non-admin session"}],"endTime":1759235145970,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/authzNegative.test.ts","startTime":1759235145875,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["order status transition guard"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transition guard rejects invalid transition PENDING -> SHIPPED","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235146046,"status":"passed","title":"rejects invalid transition PENDING -> SHIPPED"}],"endTime":1759235146059,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/orderStatusNegative.test.ts","startTime":1759235145974,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["discount validate endpoint"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount validate endpoint returns not_found for unknown code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235146111,"status":"passed","title":"returns not_found for unknown code"},{"ancestorTitles":["discount validate endpoint"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount validate endpoint valid fixed discount","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759235146121,"status":"passed","title":"valid fixed discount"},{"ancestorTitles":["discount validate endpoint"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount validate endpoint valid percent discount is case-insensitive","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759235146124,"status":"passed","title":"valid percent discount is case-insensitive"}],"endTime":1759235146128,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/discountValidate.test.ts","startTime":1759235146062,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["authOptions shape"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions shape has callbacks and providers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759235146197,"status":"passed","title":"has callbacks and providers"},{"ancestorTitles":["authOptions shape"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions shape getServerSession can be invoked with authOptions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146198,"status":"passed","title":"getServerSession can be invoked with authOptions"}],"endTime":1759235146199,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/auth/authOptions.test.ts","startTime":1759235146131,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["stripe init"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"stripe init returns null when no key set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146257,"status":"passed","title":"returns null when no key set"}],"endTime":1759235146260,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/lib/stripeInit.test.ts","startTime":1759235146203,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["authOptions callbacks"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions callbacks jwt callback sets uid and isAdmin from user object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235146314,"status":"passed","title":"jwt callback sets uid and isAdmin from user object"},{"ancestorTitles":["authOptions callbacks"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions callbacks jwt lazy loads isAdmin when missing on existing token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146315,"status":"passed","title":"jwt lazy loads isAdmin when missing on existing token"},{"ancestorTitles":["authOptions callbacks"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions callbacks session callback injects id and isAdmin","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235146319,"status":"passed","title":"session callback injects id and isAdmin"}],"endTime":1759235146319,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/auth/authOptionsCallbacks.test.ts","startTime":1759235146267,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["mailer branch coverage"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"mailer branch coverage sendOrderConfirmation + sendPaymentReceipt invoke underlying mailer","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146363,"status":"passed","title":"sendOrderConfirmation + sendPaymentReceipt invoke underlying mailer"}],"endTime":1759235146369,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/lib/mailerBranch.test.ts","startTime":1759235146322,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["formatPriceCents"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"formatPriceCents formats basic USD values","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235146406,"status":"passed","title":"formats basic USD values"},{"ancestorTitles":["formatPriceCents"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"formatPriceCents respects custom currency","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146418,"status":"passed","title":"respects custom currency"}],"endTime":1759235146419,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/money.test.ts","startTime":1759235146372,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["email templates"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"email templates order confirmation html snapshot","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146455,"status":"passed","title":"order confirmation html snapshot"},{"ancestorTitles":["email templates"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"email templates payment receipt html snapshot","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146456,"status":"passed","title":"payment receipt html snapshot"}],"endTime":1759235146457,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/emailTemplates.test.ts","startTime":1759235146421,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["mailer templates quick checks"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"mailer templates quick checks order confirmation contains total and id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235146493,"status":"passed","title":"order confirmation contains total and id"},{"ancestorTitles":["mailer templates quick checks"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"mailer templates quick checks payment receipt contains amount","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146494,"status":"passed","title":"payment receipt contains amount"}],"endTime":1759235146495,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/lib/mailerTemplates.test.ts","startTime":1759235146462,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["error boundary surface"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"error boundary surface test-error page throws","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146542,"status":"passed","title":"test-error page throws"}],"endTime":1759235146546,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/errorBoundary.test.ts","startTime":1759235146497,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["order status transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transitions allows valid path","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146589,"status":"passed","title":"allows valid path"},{"ancestorTitles":["order status transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transitions rejects invalid path","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146590,"status":"passed","title":"rejects invalid path"},{"ancestorTitles":["order status transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transitions is idempotent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146591,"status":"passed","title":"is idempotent"}],"endTime":1759235146592,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/orderTransitions.test.ts","startTime":1759235146553,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["rateLimit utility"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimit utility allows 15 then blocks 16th within window","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759235146631,"status":"passed","title":"allows 15 then blocks 16th within window"}],"endTime":1759235146633,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/rateLimit.test.ts","startTime":1759235146600,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["discount application"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount application caps fixed discount to subtotal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146666,"status":"passed","title":"caps fixed discount to subtotal"},{"ancestorTitles":["discount application"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount application percent calculation floors properly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146667,"status":"passed","title":"percent calculation floors properly"}],"endTime":1759235146668,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/discount.test.ts","startTime":1759235146635,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["cart subtotal math"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"cart subtotal math sums line extended amounts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146702,"status":"passed","title":"sums line extended amounts"},{"ancestorTitles":["cart subtotal math"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"cart subtotal math handles empty list","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759235146703,"status":"passed","title":"handles empty list"}],"endTime":1759235146704,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/cartSubtotal.test.ts","startTime":1759235146670,"status":"passed","summary":""}],"wasInterrupted":false}
