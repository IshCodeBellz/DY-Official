{"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":20,"numPassedTests":46,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":20,"numTotalTests":46,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":2,"total":2,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1759236297866,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["payment intent flow (simulated)"],"duration":649,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"payment intent flow (simulated) creates simulated payment intent and sets status to AWAITING_PAYMENT","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1759236298319,"status":"passed","title":"creates simulated payment intent and sets status to AWAITING_PAYMENT"},{"ancestorTitles":["payment intent flow (simulated)"],"duration":727,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"payment intent flow (simulated) idempotent reuse of payment intent","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236298970,"status":"passed","title":"idempotent reuse of payment intent"}],"endTime":1759236299698,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/paymentIntent.test.ts","startTime":1759236298023,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["payment webhook simulation"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"payment webhook simulation marks order paid and clears cart on success","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236299819,"status":"passed","title":"marks order paid and clears cart on success"},{"ancestorTitles":["payment webhook simulation"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"payment webhook simulation failed webhook marks payment failed but leaves order pending/awaiting","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236299854,"status":"passed","title":"failed webhook marks payment failed but leaves order pending/awaiting"},{"ancestorTitles":["payment webhook simulation"],"duration":30,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"payment webhook simulation idempotent replay does not change already paid order","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236299869,"status":"passed","title":"idempotent replay does not change already paid order"}],"endTime":1759236299900,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/webhook.test.ts","startTime":1759236299720,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["checkout flow"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow happy path without discount","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1759236299977,"status":"passed","title":"happy path without discount"},{"ancestorTitles":["checkout flow"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow applies fixed discount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300002,"status":"passed","title":"applies fixed discount"},{"ancestorTitles":["checkout flow"],"duration":24,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow discount usage increments and then exhausts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1759236300019,"status":"passed","title":"discount usage increments and then exhausts"},{"ancestorTitles":["checkout flow"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout flow idempotency returns same order on repeat key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300043,"status":"passed","title":"idempotency returns same order on repeat key"}],"endTime":1759236300058,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/checkout.test.ts","startTime":1759236299904,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["checkout failure scenarios"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios empty cart returns 400","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300137,"status":"passed","title":"empty cart returns 400"},{"ancestorTitles":["checkout failure scenarios"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios stock conflict","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236300151,"status":"passed","title":"stock conflict"},{"ancestorTitles":["checkout failure scenarios"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios invalid discount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300159,"status":"passed","title":"invalid discount"},{"ancestorTitles":["checkout failure scenarios"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios discount min subtotal unmet","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300168,"status":"passed","title":"discount min subtotal unmet"},{"ancestorTitles":["checkout failure scenarios"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"checkout failure scenarios discount usage exhausted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300178,"status":"passed","title":"discount usage exhausted"}],"endTime":1759236300189,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/checkoutFailures.test.ts","startTime":1759236300062,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["admin products positive"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"admin products positive creates a product with images and sizes","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1759236300270,"status":"passed","title":"creates a product with images and sizes"},{"ancestorTitles":["discount codes route"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount codes route creates fixed discount code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300285,"status":"passed","title":"creates fixed discount code"},{"ancestorTitles":["discount codes route"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount codes route creates percent discount code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300290,"status":"passed","title":"creates percent discount code"},{"ancestorTitles":["discount codes route"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount codes route rejects missing required value for fixed kind","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300293,"status":"passed","title":"rejects missing required value for fixed kind"}],"endTime":1759236300296,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/adminAndDiscountPositive.test.ts","startTime":1759236300193,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["admin authorization negatives"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"admin authorization negatives product create blocked for missing session","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300373,"status":"passed","title":"product create blocked for missing session"},{"ancestorTitles":["admin authorization negatives"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"admin authorization negatives discount code create blocked for non-admin session","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300381,"status":"passed","title":"discount code create blocked for non-admin session"}],"endTime":1759236300384,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/authzNegative.test.ts","startTime":1759236300300,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["order status transition guard"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transition guard rejects invalid transition PENDING -> SHIPPED","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300458,"status":"passed","title":"rejects invalid transition PENDING -> SHIPPED"}],"endTime":1759236300474,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/orderStatusNegative.test.ts","startTime":1759236300386,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["discount validate endpoint"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount validate endpoint returns not_found for unknown code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300538,"status":"passed","title":"returns not_found for unknown code"},{"ancestorTitles":["discount validate endpoint"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount validate endpoint valid fixed discount","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236300547,"status":"passed","title":"valid fixed discount"},{"ancestorTitles":["discount validate endpoint"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount validate endpoint valid percent discount is case-insensitive","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236300551,"status":"passed","title":"valid percent discount is case-insensitive"}],"endTime":1759236300556,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/discountValidate.test.ts","startTime":1759236300477,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["authOptions shape"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions shape has callbacks and providers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1759236300623,"status":"passed","title":"has callbacks and providers"},{"ancestorTitles":["authOptions shape"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions shape getServerSession can be invoked with authOptions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300625,"status":"passed","title":"getServerSession can be invoked with authOptions"}],"endTime":1759236300625,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/auth/authOptions.test.ts","startTime":1759236300559,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["authOptions callbacks"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions callbacks jwt callback sets uid and isAdmin from user object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300674,"status":"passed","title":"jwt callback sets uid and isAdmin from user object"},{"ancestorTitles":["authOptions callbacks"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions callbacks jwt lazy loads isAdmin when missing on existing token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300676,"status":"passed","title":"jwt lazy loads isAdmin when missing on existing token"},{"ancestorTitles":["authOptions callbacks"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"authOptions callbacks session callback injects id and isAdmin","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300679,"status":"passed","title":"session callback injects id and isAdmin"}],"endTime":1759236300680,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/auth/authOptionsCallbacks.test.ts","startTime":1759236300630,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["stripe init"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"stripe init returns null when no key set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300730,"status":"passed","title":"returns null when no key set"}],"endTime":1759236300733,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/lib/stripeInit.test.ts","startTime":1759236300683,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["mailer branch coverage"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"mailer branch coverage sendOrderConfirmation + sendPaymentReceipt invoke underlying mailer","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300785,"status":"passed","title":"sendOrderConfirmation + sendPaymentReceipt invoke underlying mailer"}],"endTime":1759236300796,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/lib/mailerBranch.test.ts","startTime":1759236300737,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["formatPriceCents"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"formatPriceCents formats basic USD values","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236300832,"status":"passed","title":"formats basic USD values"},{"ancestorTitles":["formatPriceCents"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"formatPriceCents respects custom currency","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300845,"status":"passed","title":"respects custom currency"}],"endTime":1759236300845,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/money.test.ts","startTime":1759236300799,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["email templates"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"email templates order confirmation html snapshot","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300879,"status":"passed","title":"order confirmation html snapshot"},{"ancestorTitles":["email templates"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"email templates payment receipt html snapshot","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300881,"status":"passed","title":"payment receipt html snapshot"}],"endTime":1759236300881,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/emailTemplates.test.ts","startTime":1759236300848,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["order status transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transitions allows valid path","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300916,"status":"passed","title":"allows valid path"},{"ancestorTitles":["order status transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transitions rejects invalid path","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300917,"status":"passed","title":"rejects invalid path"},{"ancestorTitles":["order status transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"order status transitions is idempotent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300917,"status":"passed","title":"is idempotent"}],"endTime":1759236300918,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/orderTransitions.test.ts","startTime":1759236300884,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["cart subtotal math"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"cart subtotal math sums line extended amounts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300950,"status":"passed","title":"sums line extended amounts"},{"ancestorTitles":["cart subtotal math"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"cart subtotal math handles empty list","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300952,"status":"passed","title":"handles empty list"}],"endTime":1759236300953,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/cartSubtotal.test.ts","startTime":1759236300920,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["error boundary surface"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"error boundary surface test-error page throws","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236300992,"status":"passed","title":"test-error page throws"}],"endTime":1759236300996,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/errorBoundary.test.ts","startTime":1759236300957,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["discount application"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount application caps fixed discount to subtotal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236301029,"status":"passed","title":"caps fixed discount to subtotal"},{"ancestorTitles":["discount application"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"discount application percent calculation floors properly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236301030,"status":"passed","title":"percent calculation floors properly"}],"endTime":1759236301031,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/discount.test.ts","startTime":1759236300998,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["mailer templates quick checks"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"mailer templates quick checks order confirmation contains total and id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236301066,"status":"passed","title":"order confirmation contains total and id"},{"ancestorTitles":["mailer templates quick checks"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"mailer templates quick checks payment receipt contains amount","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1759236301067,"status":"passed","title":"payment receipt contains amount"}],"endTime":1759236301068,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/lib/mailerTemplates.test.ts","startTime":1759236301035,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["rateLimit utility"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimit utility allows 15 then blocks 16th within window","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1759236301103,"status":"passed","title":"allows 15 then blocks 16th within window"}],"endTime":1759236301105,"message":"","name":"/Users/ishaqbello/Website/asos-clone/tests/integration/rateLimit.test.ts","startTime":1759236301070,"status":"passed","summary":""}],"wasInterrupted":false}
